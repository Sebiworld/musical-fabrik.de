(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{145:function(e,o,i){var a,s;a=[i(22)],void 0===(s=function(e){return f=e,void function(){"use strict";var o={videoMaxWidth:"855px",autoplayFirstVideo:!0,youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},e=function(e){return this.core=f(e).data("lightGallery"),this.$el=f(e),this.core.s=f.extend({},o,this.core.s),this.videoLoaded=!1,this.init(),this};e.prototype.init=function(){var a=this;a.core.$el.on("hasVideo.lg.tm",function(e,o,i,a){var s=this;if(s.core.$slide.eq(o).find(".lg-video").append(s.loadVideo(i,"lg-object",!0,o,a)),a)if(s.core.s.videojs)try{videojs(s.core.$slide.eq(o).find(".lg-html5").get(0),s.core.s.videojsOptions,function(){!s.videoLoaded&&s.core.s.autoplayFirstVideo&&this.play()})}catch(e){console.error("Make sure you have included videojs")}else!s.videoLoaded&&s.core.s.autoplayFirstVideo&&s.core.$slide.eq(o).find(".lg-html5").get(0).play()}.bind(this)),a.core.$el.on("onAferAppendSlide.lg.tm",function(e,o){var i=this.core.$slide.eq(o).find(".lg-video-cont");i.hasClass("lg-has-iframe")||(i.css("max-width",this.core.s.videoMaxWidth),this.videoLoaded=!0)}.bind(this)),a.core.doCss()&&1<a.core.$items.length&&(a.core.s.enableSwipe||a.core.s.enableDrag)?a.core.$el.on("onSlideClick.lg.tm",function(){var e=a.core.$slide.eq(a.core.index);a.loadVideoOnclick(e)}):a.core.$slide.on("click.lg",function(){a.loadVideoOnclick(f(this))}),a.core.$el.on("onBeforeSlide.lg.tm",function(e,o,i){var a,s=this,l=s.core.$slide.eq(o),r=l.find(".lg-youtube").get(0),t=l.find(".lg-vimeo").get(0),d=l.find(".lg-dailymotion").get(0),c=l.find(".lg-vk").get(0),n=l.find(".lg-html5").get(0);if(r)r.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(t)try{$f(t).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(d)d.contentWindow.postMessage("pause","*");else if(n)if(s.core.s.videojs)try{videojs(n).pause()}catch(e){console.error("Make sure you have included videojs")}else n.pause();c&&f(c).attr("src",f(c).attr("src").replace("&autoplay","&noplay")),a=s.core.s.dynamic?s.core.s.dynamicEl[i].src:s.core.$items.eq(i).attr("href")||s.core.$items.eq(i).attr("data-src");var m=s.core.isVideo(a,i)||{};(m.youtube||m.vimeo||m.dailymotion||m.vk)&&s.core.$outer.addClass("lg-hide-download")}.bind(this)),a.core.$el.on("onAfterSlide.lg.tm",function(e,o){a.core.$slide.eq(o).removeClass("lg-video-playing")}),a.core.s.autoplayFirstVideo&&a.core.$el.on("onAferAppendSlide.lg.tm",function(e,o){if(!a.core.lGalleryOn){var i=a.core.$slide.eq(o);setTimeout(function(){a.loadVideoOnclick(i)},100)}})},e.prototype.loadVideo=function(e,o,i,a,s){var l="",r=1,t="",d=this.core.isVideo(e,a)||{};if(i&&(r=this.videoLoaded?0:this.core.s.autoplayFirstVideo?1:0),d.youtube)t="?wmode=opaque&autoplay="+r+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(t=t+"&"+f.param(this.core.s.youtubePlayerParams)),l='<iframe class="lg-video-object lg-youtube '+o+'" width="560" height="315" src="//www.youtube.com/embed/'+d.youtube[1]+t+'" frameborder="0" allowfullscreen></iframe>';else if(d.vimeo)t="?autoplay="+r+"&api=1",this.core.s.vimeoPlayerParams&&(t=t+"&"+f.param(this.core.s.vimeoPlayerParams)),l='<iframe class="lg-video-object lg-vimeo '+o+'" width="560" height="315"  src="//player.vimeo.com/video/'+d.vimeo[1]+t+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(d.dailymotion)t="?wmode=opaque&autoplay="+r+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(t=t+"&"+f.param(this.core.s.dailymotionPlayerParams)),l='<iframe class="lg-video-object lg-dailymotion '+o+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+d.dailymotion[1]+t+'" frameborder="0" allowfullscreen></iframe>';else if(d.html5){var c=s.substring(0,1);"."!==c&&"#"!==c||(s=f(s).html()),l=s}else d.vk&&(t="&autoplay="+r,this.core.s.vkPlayerParams&&(t=t+"&"+f.param(this.core.s.vkPlayerParams)),l='<iframe class="lg-video-object lg-vk '+o+'" width="560" height="315" src="//vk.com/video_ext.php?'+d.vk[1]+t+'" frameborder="0" allowfullscreen></iframe>');return l},e.prototype.loadVideoOnclick=function(i){var a=this;if(i.find(".lg-object").hasClass("lg-has-poster")&&i.find(".lg-object").is(":visible"))if(i.hasClass("lg-has-video")){var e=i.find(".lg-youtube").get(0),o=i.find(".lg-vimeo").get(0),s=i.find(".lg-dailymotion").get(0),l=i.find(".lg-html5").get(0);if(e)e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(o)try{$f(o).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(s)s.contentWindow.postMessage("play","*");else if(l)if(a.core.s.videojs)try{videojs(l).play()}catch(e){console.error("Make sure you have included videojs")}else l.play();i.addClass("lg-video-playing")}else{var r,t;i.addClass("lg-video-playing lg-has-video");var d=function(e,o){if(i.find(".lg-video").append(a.loadVideo(e,"",!1,a.core.index,o)),o)if(a.core.s.videojs)try{videojs(a.core.$slide.eq(a.core.index).find(".lg-html5").get(0),a.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}else a.core.$slide.eq(a.core.index).find(".lg-html5").get(0).play()};t=a.core.s.dynamic?(r=a.core.s.dynamicEl[a.core.index].src,a.core.s.dynamicEl[a.core.index].html):(r=a.core.$items.eq(a.core.index).attr("href")||a.core.$items.eq(a.core.index).attr("data-src"),a.core.$items.eq(a.core.index).attr("data-html")),d(r,t);var c=i.find(".lg-object");i.find(".lg-video").append(c),i.find(".lg-video-object").hasClass("lg-html5")||(i.removeClass("lg-complete"),i.find(".lg-video-object").on("load.lg error.lg",function(){i.addClass("lg-complete")}))}},e.prototype.destroy=function(){this.videoLoaded=!1},f.fn.lightGallery.modules.video=e}();var f}.apply(o,a))||(e.exports=s)}}]);