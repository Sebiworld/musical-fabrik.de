(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{159:function(e,o,i){var a,s;a=[i(103)],void 0===(s=function(e){return o=e,void function(){"use strict";var e={videoMaxWidth:"855px",autoplayFirstVideo:!0,youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},i=function(i){return this.core=o(i).data("lightGallery"),this.$el=o(i),this.core.s=o.extend({},e,this.core.s),this.videoLoaded=!1,this.init(),this};i.prototype.init=function(){var e=this;e.core.$el.on("hasVideo.lg.tm",function(e,o,i,a){var s=this;if(s.core.$slide.eq(o).find(".lg-video").append(s.loadVideo(i,"lg-object",!0,o,a)),a)if(s.core.s.videojs)try{videojs(s.core.$slide.eq(o).find(".lg-html5").get(0),s.core.s.videojsOptions,function(){!s.videoLoaded&&s.core.s.autoplayFirstVideo&&this.play()})}catch(l){console.error("Make sure you have included videojs")}else!s.videoLoaded&&s.core.s.autoplayFirstVideo&&s.core.$slide.eq(o).find(".lg-html5").get(0).play()}.bind(this)),e.core.$el.on("onAferAppendSlide.lg.tm",function(e,o){var i=this.core.$slide.eq(o).find(".lg-video-cont");i.hasClass("lg-has-iframe")||(i.css("max-width",this.core.s.videoMaxWidth),this.videoLoaded=!0)}.bind(this)),e.core.doCss()&&e.core.$items.length>1&&(e.core.s.enableSwipe||e.core.s.enableDrag)?e.core.$el.on("onSlideClick.lg.tm",function(){var o=e.core.$slide.eq(e.core.index);e.loadVideoOnclick(o)}):e.core.$slide.on("click.lg",function(){e.loadVideoOnclick(o(this))}),e.core.$el.on("onBeforeSlide.lg.tm",function(e,i,a){var s,l=this.core.$slide.eq(i),t=l.find(".lg-youtube").get(0),r=l.find(".lg-vimeo").get(0),d=l.find(".lg-dailymotion").get(0),c=l.find(".lg-vk").get(0),n=l.find(".lg-html5").get(0);if(t)t.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(r)try{$f(r).api("pause")}catch(h){console.error("Make sure you have included froogaloop2 js")}else if(d)d.contentWindow.postMessage("pause","*");else if(n)if(this.core.s.videojs)try{videojs(n).pause()}catch(h){console.error("Make sure you have included videojs")}else n.pause();c&&o(c).attr("src",o(c).attr("src").replace("&autoplay","&noplay")),s=this.core.s.dynamic?this.core.s.dynamicEl[a].src:this.core.$items.eq(a).attr("href")||this.core.$items.eq(a).attr("data-src");var m=this.core.isVideo(s,a)||{};(m.youtube||m.vimeo||m.dailymotion||m.vk)&&this.core.$outer.addClass("lg-hide-download")}.bind(this)),e.core.$el.on("onAfterSlide.lg.tm",function(o,i){e.core.$slide.eq(i).removeClass("lg-video-playing")}),e.core.s.autoplayFirstVideo&&e.core.$el.on("onAferAppendSlide.lg.tm",function(o,i){if(!e.core.lGalleryOn){var a=e.core.$slide.eq(i);setTimeout(function(){e.loadVideoOnclick(a)},100)}})},i.prototype.loadVideo=function(e,i,a,s,l){var t="",r=1,d="",c=this.core.isVideo(e,s)||{};if(a&&(r=this.videoLoaded?0:this.core.s.autoplayFirstVideo?1:0),c.youtube)d="?wmode=opaque&autoplay="+r+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(d=d+"&"+o.param(this.core.s.youtubePlayerParams)),t='<iframe class="lg-video-object lg-youtube '+i+'" width="560" height="315" src="//www.youtube.com/embed/'+c.youtube[1]+d+'" frameborder="0" allowfullscreen></iframe>';else if(c.vimeo)d="?autoplay="+r+"&api=1",this.core.s.vimeoPlayerParams&&(d=d+"&"+o.param(this.core.s.vimeoPlayerParams)),t='<iframe class="lg-video-object lg-vimeo '+i+'" width="560" height="315"  src="//player.vimeo.com/video/'+c.vimeo[1]+d+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(c.dailymotion)d="?wmode=opaque&autoplay="+r+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(d=d+"&"+o.param(this.core.s.dailymotionPlayerParams)),t='<iframe class="lg-video-object lg-dailymotion '+i+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+c.dailymotion[1]+d+'" frameborder="0" allowfullscreen></iframe>';else if(c.html5){var n=l.substring(0,1);"."!==n&&"#"!==n||(l=o(l).html()),t=l}else c.vk&&(d="&autoplay="+r,this.core.s.vkPlayerParams&&(d=d+"&"+o.param(this.core.s.vkPlayerParams)),t='<iframe class="lg-video-object lg-vk '+i+'" width="560" height="315" src="//vk.com/video_ext.php?'+c.vk[1]+d+'" frameborder="0" allowfullscreen></iframe>');return t},i.prototype.loadVideoOnclick=function(e){var o=this;if(e.find(".lg-object").hasClass("lg-has-poster")&&e.find(".lg-object").is(":visible"))if(e.hasClass("lg-has-video")){var i=e.find(".lg-youtube").get(0),a=e.find(".lg-vimeo").get(0),s=e.find(".lg-dailymotion").get(0),l=e.find(".lg-html5").get(0);if(i)i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(a)try{$f(a).api("play")}catch(n){console.error("Make sure you have included froogaloop2 js")}else if(s)s.contentWindow.postMessage("play","*");else if(l)if(o.core.s.videojs)try{videojs(l).play()}catch(n){console.error("Make sure you have included videojs")}else l.play();e.addClass("lg-video-playing")}else{var t,r;e.addClass("lg-video-playing lg-has-video");var d=function(i,a){if(e.find(".lg-video").append(o.loadVideo(i,"",!1,o.core.index,a)),a)if(o.core.s.videojs)try{videojs(o.core.$slide.eq(o.core.index).find(".lg-html5").get(0),o.core.s.videojsOptions,function(){this.play()})}catch(n){console.error("Make sure you have included videojs")}else o.core.$slide.eq(o.core.index).find(".lg-html5").get(0).play()};o.core.s.dynamic?(t=o.core.s.dynamicEl[o.core.index].src,r=o.core.s.dynamicEl[o.core.index].html,d(t,r)):(t=o.core.$items.eq(o.core.index).attr("href")||o.core.$items.eq(o.core.index).attr("data-src"),r=o.core.$items.eq(o.core.index).attr("data-html"),d(t,r));var c=e.find(".lg-object");e.find(".lg-video").append(c),e.find(".lg-video-object").hasClass("lg-html5")||(e.removeClass("lg-complete"),e.find(".lg-video-object").on("load.lg error.lg",function(){e.addClass("lg-complete")}))}},i.prototype.destroy=function(){this.videoLoaded=!1},o.fn.lightGallery.modules.video=i}();var o}.apply(o,a))||(e.exports=s)}}]);