(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{146:function(o,e,t){var a,r;a=[t(22)],void 0===(r=function(o){return g=o,void function(){"use strict";var o,e,t={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(o=!1,e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),e&&parseInt(e[2],10)<54&&(o=!0),o)},a=function(o){return this.core=g(o).data("lightGallery"),this.core.s=g.extend({},t,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=g(window).width()/2,this.pageY=g(window).height()/2+g(window).scrollTop()),this};a.prototype.init=function(){var l=this,o='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';l.core.s.actualSize&&(o+='<span id="lg-actual-size" class="lg-icon"></span>'),l.core.s.useLeftForZoom?l.core.$outer.addClass("lg-use-left-for-zoom"):l.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(o),l.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(o,e,t){var a=l.core.s.enableZoomAfter+t;g("body").hasClass("lg-from-hash")&&t?a=0:g("body").removeClass("lg-from-hash"),l.zoomabletimeout=setTimeout(function(){l.core.$slide.eq(e).addClass("lg-zoomable")},a+30)});var i=1,e=function(o){var e,t,a=l.core.$outer.find(".lg-current .lg-image"),r=(g(window).width()-a.prop("offsetWidth"))/2,s=(g(window).height()-a.prop("offsetHeight"))/2+g(window).scrollTop();e=l.pageX-r,t=l.pageY-s;var i=(o-1)*e,n=(o-1)*t;a.css("transform","scale3d("+o+", "+o+", 1)").attr("data-scale",o),l.core.s.useLeftForZoom?a.parent().css({left:-i+"px",top:-n+"px"}).attr("data-x",i).attr("data-y",n):a.parent().css("transform","translate3d(-"+i+"px, -"+n+"px, 0)").attr("data-x",i).attr("data-y",n)},n=function(){1<i?l.core.$outer.addClass("lg-zoomed"):l.resetZoom(),i<1&&(i=1),e(i)},a=function(o,e,t,a){var r,s=e.prop("offsetWidth");r=l.core.s.dynamic?l.core.s.dynamicEl[t].width||e[0].naturalWidth||s:l.core.$items.eq(t).attr("data-width")||e[0].naturalWidth||s,l.core.$outer.hasClass("lg-zoomed")?i=1:s<r&&(i=r/s||2),l.pageY=a?(l.pageX=g(window).width()/2,g(window).height()/2+g(window).scrollTop()):(l.pageX=o.pageX||o.originalEvent.targetTouches[0].pageX,o.pageY||o.originalEvent.targetTouches[0].pageY),n(),setTimeout(function(){l.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},r=!1;l.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(o,e){var t=l.core.$slide.eq(e).find(".lg-image");t.on("dblclick",function(o){a(o,t,e)}),t.on("touchstart",function(o){r?(clearTimeout(r),r=null,a(o,t,e)):r=setTimeout(function(){r=null},300),o.preventDefault()})}),g(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){l.pageX=g(window).width()/2,l.pageY=g(window).height()/2+g(window).scrollTop(),e(i)}),g("#lg-zoom-out").on("click.lg",function(){l.core.$outer.find(".lg-current .lg-image").length&&(i-=l.core.s.scale,n())}),g("#lg-zoom-in").on("click.lg",function(){l.core.$outer.find(".lg-current .lg-image").length&&(i+=l.core.s.scale,n())}),g("#lg-actual-size").on("click.lg",function(o){a(o,l.core.$slide.eq(l.core.index).find(".lg-image"),l.core.index,!0)}),l.core.$el.on("onBeforeSlide.lg.tm",function(){i=1,l.resetZoom()}),l.zoomDrag(),l.zoomSwipe()},a.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=g(window).width()/2,this.pageY=g(window).height()/2+g(window).scrollTop()},a.prototype.zoomSwipe=function(){var r=this,s={},i={},n=!1,l=!1,c=!1;r.core.$slide.on("touchstart.lg",function(o){if(r.core.$outer.hasClass("lg-zoomed")){var e=r.core.$slide.eq(r.core.index).find(".lg-object");c=e.prop("offsetHeight")*e.attr("data-scale")>r.core.$outer.find(".lg").height(),((l=e.prop("offsetWidth")*e.attr("data-scale")>r.core.$outer.find(".lg").width())||c)&&(o.preventDefault(),s={x:o.originalEvent.targetTouches[0].pageX,y:o.originalEvent.targetTouches[0].pageY})}}),r.core.$slide.on("touchmove.lg",function(o){if(r.core.$outer.hasClass("lg-zoomed")){var e,t,a=r.core.$slide.eq(r.core.index).find(".lg-img-wrap");o.preventDefault(),n=!0,i={x:o.originalEvent.targetTouches[0].pageX,y:o.originalEvent.targetTouches[0].pageY},r.core.$outer.addClass("lg-zoom-dragging"),t=c?-Math.abs(a.attr("data-y"))+(i.y-s.y):-Math.abs(a.attr("data-y")),e=l?-Math.abs(a.attr("data-x"))+(i.x-s.x):-Math.abs(a.attr("data-x")),(15<Math.abs(i.x-s.x)||15<Math.abs(i.y-s.y))&&(r.core.s.useLeftForZoom?a.css({left:e+"px",top:t+"px"}):a.css("transform","translate3d("+e+"px, "+t+"px, 0)"))}}),r.core.$slide.on("touchend.lg",function(){r.core.$outer.hasClass("lg-zoomed")&&n&&(n=!1,r.core.$outer.removeClass("lg-zoom-dragging"),r.touchendZoom(s,i,l,c))})},a.prototype.zoomDrag=function(){var r=this,s={},i={},n=!1,l=!1,c=!1,d=!1;r.core.$slide.on("mousedown.lg.zoom",function(o){var e=r.core.$slide.eq(r.core.index).find(".lg-object");d=e.prop("offsetHeight")*e.attr("data-scale")>r.core.$outer.find(".lg").height(),c=e.prop("offsetWidth")*e.attr("data-scale")>r.core.$outer.find(".lg").width(),r.core.$outer.hasClass("lg-zoomed")&&g(o.target).hasClass("lg-object")&&(c||d)&&(o.preventDefault(),s={x:o.pageX,y:o.pageY},n=!0,r.core.$outer.scrollLeft+=1,r.core.$outer.scrollLeft-=1,r.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),g(window).on("mousemove.lg.zoom",function(o){if(n){var e,t,a=r.core.$slide.eq(r.core.index).find(".lg-img-wrap");l=!0,i={x:o.pageX,y:o.pageY},r.core.$outer.addClass("lg-zoom-dragging"),t=d?-Math.abs(a.attr("data-y"))+(i.y-s.y):-Math.abs(a.attr("data-y")),e=c?-Math.abs(a.attr("data-x"))+(i.x-s.x):-Math.abs(a.attr("data-x")),r.core.s.useLeftForZoom?a.css({left:e+"px",top:t+"px"}):a.css("transform","translate3d("+e+"px, "+t+"px, 0)")}}),g(window).on("mouseup.lg.zoom",function(o){n&&(n=!1,r.core.$outer.removeClass("lg-zoom-dragging"),!l||s.x===i.x&&s.y===i.y||(i={x:o.pageX,y:o.pageY},r.touchendZoom(s,i,c,d)),l=!1),r.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},a.prototype.touchendZoom=function(o,e,t,a){var r=this,s=r.core.$slide.eq(r.core.index).find(".lg-img-wrap"),i=r.core.$slide.eq(r.core.index).find(".lg-object"),n=-Math.abs(s.attr("data-x"))+(e.x-o.x),l=-Math.abs(s.attr("data-y"))+(e.y-o.y),c=(r.core.$outer.find(".lg").height()-i.prop("offsetHeight"))/2,d=Math.abs(i.prop("offsetHeight")*Math.abs(i.attr("data-scale"))-r.core.$outer.find(".lg").height()+c),g=(r.core.$outer.find(".lg").width()-i.prop("offsetWidth"))/2,u=Math.abs(i.prop("offsetWidth")*Math.abs(i.attr("data-scale"))-r.core.$outer.find(".lg").width()+g);(15<Math.abs(e.x-o.x)||15<Math.abs(e.y-o.y))&&(a&&(l<=-d?l=-d:-c<=l&&(l=-c)),t&&(n<=-u?n=-u:-g<=n&&(n=-g)),a?s.attr("data-y",Math.abs(l)):l=-Math.abs(s.attr("data-y")),t?s.attr("data-x",Math.abs(n)):n=-Math.abs(s.attr("data-x")),r.core.s.useLeftForZoom?s.css({left:n+"px",top:l+"px"}):s.css("transform","translate3d("+n+"px, "+l+"px, 0)"))},a.prototype.destroy=function(){var o=this;o.core.$el.off(".lg.zoom"),g(window).off(".lg.zoom"),o.core.$slide.off(".lg.zoom"),o.core.$el.off(".lg.tm.zoom"),o.resetZoom(),clearTimeout(o.zoomabletimeout),o.zoomabletimeout=!1},g.fn.lightGallery.modules.zoom=a}();var g}.apply(e,a))||(o.exports=r)}}]);