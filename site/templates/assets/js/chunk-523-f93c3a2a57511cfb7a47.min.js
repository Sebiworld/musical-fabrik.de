/*! For license information please see chunk-523-f93c3a2a57511cfb7a47.min.js.LICENSE.txt */
(self.webpackChunkwww_musical_fabrik_de=self.webpackChunkwww_musical_fabrik_de||[]).push([[523],{2523:(e,i,o)=>{"use strict";o.r(i),o.d(i,{default:()=>c});var t=function(){return(t=Object.assign||function(e){for(var i,o=1,t=arguments.length;o<t;o++)for(var s in i=arguments[o])Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);return e}).apply(this,arguments)},s={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsOptions:{}},l="lgHasVideo",r="lgBeforeSlide",n="lgAfterSlide",d="lgPosterClick";function a(e){return Object.keys(e).map((function(i){return encodeURIComponent(i)+"="+encodeURIComponent(e[i])})).join("&")}const c=function(){function e(e){return this.core=e,this.settings=t(t({},s),this.core.settings),this.init(),this}return e.prototype.init=function(){var e=this;this.core.LGel.on(l+".video",this.onHasVideo.bind(this)),this.core.galleryItems.length>1&&(this.core.settings.enableSwipe||this.core.settings.enableDrag)?this.core.LGel.on(d+".video",(function(){var i=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(i)})):this.core.outer.find(".lg-item").first().on("click.lg",(function(){var i=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(i)})),this.core.LGel.on(r+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(n+".video",this.onAfterSlide.bind(this))},e.prototype.onHasVideo=function(e){var i=e.detail,o=i.index,t=i.src,s=i.html5Video,l=i.hasPoster,r=i.isFirstSlide;if(l||(this.appendVideos(this.core.getSlideItem(o),{src:t,addClass:"lg-object",index:o,html5Video:s}),this.gotoNextSlideOnVideoEnd(t,o)),this.settings.autoplayFirstVideo&&r)if(l){var n=this.core.getSlideItem(o);this.loadVideoOnPosterClick(n)}else this.playVideo(o)},e.prototype.onBeforeSlide=function(e){var i=e.detail,o=i.prevIndex,t=i.index;this.pauseVideo(o);var s=this.core.galleryItems[t].__slideVideoInfo||{};(s.youtube||s.vimeo||s.wistia)&&this.core.outer.addClass("lg-hide-download")},e.prototype.onAfterSlide=function(e){var i=this,o=e.detail.index;this.settings.autoplayVideoOnSlide&&this.core.lGalleryOn&&setTimeout((function(){var e=i.core.getSlideItem(o);e.hasClass("lg-video-loaded")?i.playVideo(o):i.loadVideoOnPosterClick(e)}),100)},e.prototype.playVideo=function(e){this.controlVideo(e,"play")},e.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},e.prototype.getVideoHtml=function(e,i,o,t){var s="",l=this.core.galleryItems[o].__slideVideoInfo||{},r=this.core.galleryItems[o],n=r.title||r.alt;n=n?'title="'+n+'"':"";var d='allowtransparency="true" \n            frameborder="0" \n            scrolling="no" \n            allowfullscreen \n            mozallowfullscreen \n            webkitallowfullscreen \n            oallowfullscreen \n            msallowfullscreen';if(l.youtube){var c="lg-youtube"+o,u="?wmode=opaque&autoplay=0&enablejsapi=1"+(this.settings.youTubePlayerParams?"&"+a(this.settings.youTubePlayerParams):"");s='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-youtube '+i+'" '+n+' src="//www.youtube.com/embed/'+(l.youtube[1]+u)+'" '+d+"></iframe>"}else if(l.vimeo){c="lg-vimeo"+o,u=a(this.settings.vimeoPlayerParams);s='<iframe allow="autoplay" id='+c+' class="lg-video-object lg-vimeo '+i+'" '+n+' src="//player.vimeo.com/video/'+(l.vimeo[1]+u)+'" '+d+"></iframe>"}else if(l.wistia){var h="lg-wistia"+o;u=a(this.settings.wistiaPlayerParams);s='<iframe allow="autoplay" id="'+h+'" src="//fast.wistia.net/embed/iframe/'+(l.wistia[4]+u)+'" '+n+' class="wistia_embed lg-video-object lg-wistia '+i+'" name="wistia_embed" '+d+"></iframe>"}else if(l.html5){for(var f="",g=0;g<t.source.length;g++)f+='<source src="'+t.source[g].src+'" type="'+t.source[g].type+'">';var y="",v=t.attributes||{};Object.keys(v||{}).forEach((function(e){y+=e+'="'+v[e]+'" '})),s='<video class="lg-video-object lg-html5 '+(this.settings.videojs?"video-js":"")+'" '+y+">\n                "+f+"\n                Your browser does not support HTML5 video.\n            </video>"}return s},e.prototype.appendVideos=function(e,i){var o,t=this.getVideoHtml(i.src,i.addClass,i.index,i.html5Video);e.find(".lg-video-cont").append(t);var s=e.find(".lg-video-object").first();if(this.settings.videojs&&(null===(o=this.core.galleryItems[i.index].__slideVideoInfo)||void 0===o?void 0:o.html5))try{return videojs(s.get(),this.settings.videojsOptions)}catch(l){console.error("lightGallery:- Make sure you have included videojs")}},e.prototype.gotoNextSlideOnVideoEnd=function(e,i){var o=this,t=this.core.getSlideItem(i).find(".lg-video-object").first(),s=this.core.galleryItems[i].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(s.html5)t.on("ended",(function(){o.core.goToNextSlide()}));else if(s.vimeo)try{new Vimeo.Player(t.get()).on("ended",(function(){o.core.goToNextSlide()}))}catch(l){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(s.wistia)try{window._wq=window._wq||[],window._wq.push({id:t.attr("id"),onReady:function(e){e.bind("end",(function(){o.core.goToNextSlide()}))}})}catch(l){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.controlVideo=function(e,i){var o=this.core.getSlideItem(e).find(".lg-video-object").first(),t=this.core.galleryItems[e].__slideVideoInfo||{};if(o.get())if(t.youtube)try{o.get().contentWindow.postMessage('{"event":"command","func":"'+i+'Video","args":""}',"*")}catch(s){console.error("lightGallery:- "+s)}else if(t.vimeo)try{new Vimeo.Player(o.get())[i]()}catch(s){console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(t.html5)if(this.settings.videojs)try{videojs(o.get())[i]()}catch(s){console.error("lightGallery:- Make sure you have included videojs")}else o.get()[i]();else if(t.wistia)try{window._wq=window._wq||[],window._wq.push({id:o.attr("id"),onReady:function(e){e[i]()}})}catch(s){console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},e.prototype.loadVideoOnPosterClick=function(e){var i=this;if(!e.hasClass("lg-video-loaded"))if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var o=void 0,t=this.core.galleryItems[this.core.index].src,s=this.core.galleryItems[this.core.index].video;s&&(o="string"==typeof s?JSON.parse(s):s);var l=this.appendVideos(e,{src:t,addClass:"",index:this.core.index,html5Video:o});this.gotoNextSlideOnVideoEnd(t,this.core.index);var r=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(r),e.addClass("lg-video-loading"),l&&l.ready((function(){l.on("loadedmetadata",(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}))})),e.find(".lg-video-object").first().on("load.lg error.lg loadeddata.lg",(function(){setTimeout((function(){i.onVideoLoadAfterPosterClick(e,i.core.index)}),50)}))}},e.prototype.onVideoLoadAfterPosterClick=function(e,i){e.addClass("lg-video-loaded"),this.playVideo(i)},e.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},e}()}}]);