@import "~hover.css/scss/hover";

.onepage-sektion {
	position: relative;
	display: block;
	background-color: $body-bg;
	margin-top: $abstand-md;
	margin-bottom: $abstand-md;

	padding-top: $abstand-y-sm;
	padding-bottom: $abstand-y-sm;
	padding-left: $abstand-x-sm;
	padding-right: $abstand-x-sm;

	@include media-breakpoint-up(sm) {
		padding-top: $abstand-y-md;
		padding-bottom: $abstand-y-md;
		padding-left: $abstand-x-md;
		padding-right: $abstand-x-md;
	}

	&:first-child {
		margin-top: 0;
	}

	.sektion-titel {
		margin-top: $abstand-y-md;
		margin-bottom: $abstand-y-sm;
		@include fontsize("sektion-titel", 1.2);
		display: block;
		position: relative;
		margin-left: auto;
		margin-right: auto;

		& > span {
			margin-left: auto;
			margin-right: auto;
			border-bottom: 1px solid $body-color;
			margin-bottom: $abstand-y-sm;
			width: 100%;
			max-width: 100%;
		}

		&.sr-only,
		&.sr-only > span {
			margin-top: 0;
			margin-bottom: 0;
			border-bottom: 0 none;
			padding-bottom: 0;
			height: 1px;
		}

		@include media-breakpoint-down(xs) {
			@include fontsize("sektion-titel-xs", 1.4);
		}
	}

	& > .row {
		padding-left: 0;
		padding-right: 0;
	}

	& > :first-child {
		margin-top: 0;
	}
	& > :last-child {
		margin-bottom: 0;
	}
}

@mixin sektion-variante($farbe, $gradientfarbe: null) {
	@if ($gradientfarbe == null) {
		$gradientfarbe: darken($farbe, 5%);
	}
	background-color: $farbe;
	background-image: linear-gradient(315deg, $gradientfarbe 0%, $farbe 74%);
	color: text-color-over($farbe);

	.sektion-titel > span {
		border-color: text-color-over($farbe);
	}

	a:not(.btn):not(.social-button) {
		color: text-color-over($farbe);

		.icon{
			color: text-color-over($farbe);
		}

		&:hover,
		&:focus {
			@if $farbe != theme-color("primary") {
				color: contrast(theme-color("primary"), $farbe);
			}
			else {
				@include grow();
			}

			.icon{
				@if $farbe != theme-color("primary") {
					color: contrast(theme-color("primary"), $farbe);
				}
				else {
					@include grow();
				}
			}
		}
	}

	a.social-button:not(.btn) {
		color: text-color-over($farbe);

		.icon{
			color: text-color-over($farbe);
		}
	}

	.nav {
		.nav-link {
			color: text-color-over($farbe);

			&:hover,
			&:focus {
				@if $farbe != theme-color("primary") {
					color: contrast(theme-color("primary"), $farbe);
				}
				else {
					@include grow();
				}
			}
		}
	}
}

.onepage-sektion,
.container,
.container-fluid {
	&.hervorgehoben {
		@include sektion-variante(theme-color("primary"));

		// Alle Farben, die in $colors definiert sind, sind als Hintergrundfarbe wählbar.
		@each $color, $value in $colors {
			&.#{$color} {
				@include sektion-variante($value);
			}
		}

		// Alle Farben, die in $theme-colors definiert sind, sind ebenfalls als Hintergrundfarbe wählbar.
		@each $color, $value in $theme-colors {
			&.#{$color} {
				@include sektion-variante($value);
			}
		}
	}

	&.zentriert {
		text-align: center;
	}
}
